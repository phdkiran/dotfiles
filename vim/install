#!/usr/bin/env bash
brew install vim --with-lua && brew install ag
if [ $? -eq 0 ]; then
  cd "$(dirname "${BASH_SOURCE}")"
  rm -f ~/.vimrc
  ln -sf "${PWD}/.vimrc" ~/.vimrc && echo 'Link ~/.vimrc'
  rm -rf ~/.vim && mkdir ~/.vim && echo 'Link ~/.vim'
  mkdir ~/.vim/bundle
  git clone https://github.com/Shougo/neobundle.vim ~/.vim/bundle/neobundle.vim
  git clone https://github.com/Shougo/vimproc.vim ~/.vim/bundle/vimproc.vim
  cd ~/.vim/bundle/vimproc.vim
  make
  ~/.vim/bundle/neobundle.vim/bin/neoinstall
else
  echo 'Can not install vim. Check brew first.'
fi
